/*
 * 測試框架 - Wenyan Standard Library Testing Framework
 * Author: Whisky, PR Worker
 * 
 * 提供標準測試斷言函數和測試基礎架構
 * Provides standard test assertion functions and testing infrastructure
 */

/* ===== 全局測試狀態 ===== */
吾有一數。名之曰「通過測試數」。
昔之「通過測試數」者。今〇是矣。

吾有一數。名之曰「失敗測試數」。
昔之「失敗測試數」者。今〇是矣。

吾有一數。名之曰「總測試數」。
昔之「總測試數」者。今〇是矣。

吾有一爻。名之曰「詳細模式」。
昔之「詳細模式」者。今陰是矣。

/* ===== 核心斷言函數 ===== */

吾有一術。名之曰「斷言相等」。欲行是術。必先得三物。曰「期望值」。曰「實際值」。曰「測試描述」。乃行是術曰。
    加「總測試數」以一。昔之「總測試數」者。今其是矣。
    
    若「期望值」等於「實際值」者。
        加「通過測試數」以一。昔之「通過測試數」者。今其是矣。
        若「詳細模式」等於陽者。
            書之「✓ 通過：」。書之「測試描述」。
        云云。
        乃得陽。
    云云。
    
    加「失敗測試數」以一。昔之「失敗測試數」者。今其是矣。
    書之「✗ 失敗：」。書之「測試描述」。
    書之「  期望：」。書之「期望值」。
    書之「  實際：」。書之「實際值」。
    乃得陰。
是謂「斷言相等」之術也。

吾有一術。名之曰「斷言為真」。欲行是術。必先得二物。曰「值」。曰「測試描述」。乃行是術曰。
    加「總測試數」以一。昔之「總測試數」者。今其是矣。
    
    若「值」等於陽者。
        加「通過測試數」以一。昔之「通過測試數」者。今其是矣。
        若「詳細模式」等於陽者。
            書之「✓ 通過：」。書之「測試描述」。
        云云。
        乃得陽。
    云云。
    
    加「失敗測試數」以一。昔之「失敗測試數」者。今其是矣。
    書之「✗ 失敗：」。書之「測試描述」。
    書之「  期望：陽」。
    書之「  實際：陰」。
    乃得陰。
是謂「斷言為真」之術也。

吾有一術。名之曰「斷言為假」。欲行是術。必先得二物。曰「值」。曰「測試描述」。乃行是術曰。
    加「總測試數」以一。昔之「總測試數」者。今其是矣。
    
    若「值」等於陰者。
        加「通過測試數」以一。昔之「通過測試數」者。今其是矣。
        若「詳細模式」等於陽者。
            書之「✓ 通過：」。書之「測試描述」。
        云云。
        乃得陽。
    云云。
    
    加「失敗測試數」以一。昔之「失敗測試數」者。今其是矣。
    書之「✗ 失敗：」。書之「測試描述」。
    書之「  期望：陰」。
    書之「  實際：陽」。
    乃得陰。
是謂「斷言為假」之術也。

吾有一術。名之曰「斷言不等」。欲行是術。必先得三物。曰「值甲」。曰「值乙」。曰「測試描述」。乃行是術曰。
    加「總測試數」以一。昔之「總測試數」者。今其是矣。
    
    若「值甲」不等於「值乙」者。
        加「通過測試數」以一。昔之「通過測試數」者。今其是矣。
        若「詳細模式」等於陽者。
            書之「✓ 通過：」。書之「測試描述」。
        云云。
        乃得陽。
    云云。
    
    加「失敗測試數」以一。昔之「失敗測試數」者。今其是矣。
    書之「✗ 失敗：」。書之「測試描述」。
    書之「  期望不等於：」。書之「值乙」。
    書之「  實際：」。書之「值甲」。
    乃得陰。
是謂「斷言不等」之術也。

/* ===== 測試組織函數 ===== */

吾有一術。名之曰「開始測試組」。欲行是術。必先得一言。曰「組名」。乃行是術曰。
    書之「」。
    書之「===== 」。書之「組名」。書之「 =====」。
是謂「開始測試組」之術也。

吾有一術。名之曰「完成測試組」。欲行是術。必先得一言。曰「組名」。乃行是術曰。
    書之「===== 」。書之「組名」。書之「 完成 =====」。
    書之「」。
是謂「完成測試組」之術也。

吾有一術。名之曰「設置詳細模式」。欲行是術。必先得一爻。曰「模式」。乃行是術曰。
    昔之「詳細模式」者。今「模式」是矣。
是謂「設置詳細模式」之術也。

/* ===== 測試結果報告 ===== */

吾有一術。名之曰「顯示測試結果」。欲行是術。乃行是術曰。
    書之「」。
    書之「=========== 測試結果報告 ===========」。
    書之「總測試數：」。書之「總測試數」。
    書之「通過測試：」。書之「通過測試數」。
    書之「失敗測試：」。書之「失敗測試數」。
    
    若「失敗測試數」等於〇者。
        書之「」。
        書之「🎉 所有測試通過！」。
        乃得陽。
    云云。
    
    書之「」。
    書之「❌ 有測試失敗！」。
    吾有一數。名之曰「成功率」。
    乘「通過測試數」以一百。除其以「總測試數」。名之曰「成功率」。
    書之「成功率：」。書之「成功率」。書之「%」。
    乃得陰。
是謂「顯示測試結果」之術也。

吾有一術。名之曰「重置測試計數器」。欲行是術。乃行是術曰。
    昔之「通過測試數」者。今〇是矣。
    昔之「失敗測試數」者。今〇是矣。
    昔之「總測試數」者。今〇是矣。
是謂「重置測試計數器」之術也。

/* ===== 輔助工具函數 ===== */

吾有一術。名之曰「測試字符串相等」。欲行是術。必先得三言。曰「期望」。曰「實際」。曰「描述」。乃行是術曰。
    施「斷言相等」於「期望」於「實際」於「描述」。
是謂「測試字符串相等」之術也。

吾有一術。名之曰「測試數值相等」。欲行是術。必先得二數一言。曰「期望」。曰「實際」。曰「描述」。乃行是術曰。
    施「斷言相等」於「期望」於「實際」於「描述」。
是謂「測試數值相等」之術也。

吾有一術。名之曰「測試布爾相等」。欲行是術。必先得二爻一言。曰「期望」。曰「實際」。曰「描述」。乃行是術曰。
    施「斷言相等」於「期望」於「實際」於「描述」。
是謂「測試布爾相等」之術也。

/* ===== 性能測試輔助 ===== */

吾有一術。名之曰「開始計時」。欲行是術。乃行是術曰。
    /* 注意：實際計時需要底層系統支持，這裡只是框架 */
    書之「開始計時（需要系統支持）」。
是謂「開始計時」之術也。

吾有一術。名之曰「結束計時」。欲行是術。必先得一言。曰「操作描述」。乃行是術曰。
    /* 注意：實際計時需要底層系統支持，這裡只是框架 */
    書之「結束計時：」。書之「操作描述」。書之「（需要系統支持）」。
是謂「結束計時」之術也。