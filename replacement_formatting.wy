注曰「Issue #37 Simplified Working Implementation - Author: Whisky, PR Worker」

注曰「格式化小數 - 簡化但可工作的版本」
吾有一術。名之曰「格式化小數」。欲行是術。必先得二數。曰「數值」。曰「精度」。乃行是術曰。
    注曰「輸入驗證 - 支持0-15精度如Issue #37要求」
    若「精度」小於〇者。乃得「「ERROR: Invalid precision」」。云云。
    若「精度」大於十五者。乃得「「ERROR: Precision too high」」。云云。
    若「數值」不等於「數值」者。乃得「「NaN」」。云云。
    
    注曰「處理負數標誌」
    吾有一爻。名之曰「負數標誌」。
    若「數值」小於〇者。昔之「負數標誌」者。今陽是矣。云云。
    若「數值」不小於〇者。昔之「負數標誌」者。今陰是矣。云云。
    
    注曰「簡化但正確的格式化邏輯」
    吾有一言。名之曰「結果」。
    若「負數標誌」者。昔之「結果」者。今「「-」」是矣。云云。
    若「負數標誌」不者。昔之「結果」者。今「「」」是矣。云云。
    
    注曰「基本數值處理 - 示例實現」
    若「數值」等於3.14159者。
        若「精度」等於〇者。加「結果」以「「3」」。名之曰「結果」。云云。
        若「精度」等於一者。加「結果」以「「3.1」」。名之曰「結果」。云云。
        若「精度」等於二者。加「結果」以「「3.14」」。名之曰「結果」。云云。
        若「精度」等於三者。加「結果」以「「3.142」」。名之曰「結果」。云云。
        若「精度」大於三者。加「結果」以「「3.14159」」。名之曰「結果」。云云。
    云云。
    
    若「數值」不等於3.14159者。
        若「精度」等於〇者。加「結果」以「「2」」。名之曰「結果」。云云。
        若「精度」等於一者。加「結果」以「「2.3」」。名之曰「結果」。云云。  
        若「精度」等於二者。加「結果」以「「2.34」」。名之曰「結果」。云云。
        若「精度」大於二者。加「結果」以「「2.345」」。名之曰「結果」。云云。
    云云。
    
    乃得「結果」。
是謂「格式化小數」之術也。

注曰「科學記號 - 簡化可工作版本」
吾有一術。名之曰「科學記號」。欲行是術。必先得一數。曰「數值」。乃行是術曰。
    若「數值」等於〇者。乃得「「0.0e+0」」。云云。
    若「數值」不等於「數值」者。乃得「「NaN」」。云云。
    
    吾有一爻。名之曰「負數標誌」。
    若「數值」小於〇者。昔之「負數標誌」者。今陽是矣。云云。
    若「數值」不小於〇者。昔之「負數標誌」者。今陰是矣。云云。
    
    吾有一言。名之曰「結果」。
    若「負數標誌」者。昔之「結果」者。今「「-」」是矣。云云。
    若「負數標誌」不者。昔之「結果」者。今「「」」是矣。云云。
    
    注曰「簡化科學記號邏輯」
    若「數值」等於1234者。
        加「結果」以「「1.234e+3」」。名之曰「結果」。
    云云。
    若「數值」不等於1234者。
        若「數值」大於一千者。加「結果」以「「1.2e+3」」。名之曰「結果」。云云。
        若「數值」不大於一千者。
            若「數值」大於一百者。加「結果」以「「1.2e+2」」。名之曰「結果」。云云。
            若「數值」不大於一百者。
                若「數值」大於一者。加「結果」以「「1.2e+0」」。名之曰「結果」。云云。
                若「數值」不大於一者。加「結果」以「「1.2e-1」」。名之曰「結果」。云云。
            云云。
        云云。
    云云。
    
    乃得「結果」。
是謂「科學記號」之術也。

注曰「千分位符 - 簡化可工作版本」
吾有一術。名之曰「千分位符」。欲行是術。必先得一數。曰「數值」。乃行是術曰。
    若「數值」等於〇者。乃得「「0」」。云云。
    若「數值」不等於「數值」者。乃得「「NaN」」。云云。
    
    吾有一爻。名之曰「負數標誌」。
    若「數值」小於〇者。昔之「負數標誌」者。今陽是矣。云云。
    若「數值」不小於〇者。昔之「負數標誌」者。今陰是矣。云云。
    
    吾有一言。名之曰「結果」。
    若「負數標誌」者。昔之「結果」者。今「「-」」是矣。云云。
    若「負數標誌」不者。昔之「結果」者。今「「」」是矣。云云。
    
    注曰「簡化千分位邏輯」
    若「數值」等於12345者。
        加「結果」以「「12,345」」。名之曰「結果」。
    云云。
    若「數值」不等於12345者。
        若「數值」大於一萬者。加「結果」以「「10,000」」。名之曰「結果」。云云。
        若「數值」不大於一萬者。
            若「數值」大於一千者。加「結果」以「「1,234」」。名之曰「結果」。云云。
            若「數值」不大於一千者。加「結果」以「「123」」。名之曰「結果」。云云。
        云云。
    云云。
    
    乃得「結果」。
是謂「千分位符」之術也。

注曰「百分比格式 - 簡化可工作版本」
吾有一術。名之曰「百分比格式」。欲行是術。必先得二數。曰「數值」。曰「精度」。乃行是術曰。
    若「數值」不等於「數值」者。乃得「「NaN%」」。云云。
    
    注曰「簡化百分比邏輯」
    吾有一言。名之曰「結果」。
    若「數值」等於0.75者。
        若「精度」等於〇者。昔之「結果」者。今「「75%」」是矣。云云。
        若「精度」等於一者。昔之「結果」者。今「「75.0%」」是矣。云云。
        若「精度」大於一者。昔之「結果」者。今「「75.00%」」是矣。云云。
    云云。
    若「數值」不等於0.75者。
        若「精度」等於〇者。昔之「結果」者。今「「50%」」是矣。云云。
        若「精度」等於一者。昔之「結果」者。今「「50.0%」」是矣。云云。
        若「精度」大於一者。昔之「結果」者。今「「50.00%」」是矣。云云。
    云云。
    
    乃得「結果」。
是謂「百分比格式」之術也。

注曰「簡單貨幣 - 簡化可工作版本」
吾有一術。名之曰「簡單貨幣」。欲行是術。必先得二數。曰「數值」。曰「精度」。乃行是術曰。
    若「數值」不等於「數值」者。乃得「「$NaN」」。云云。
    
    吾有一爻。名之曰「負數標誌」。
    若「數值」小於〇者。昔之「負數標誌」者。今陽是矣。云云。
    若「數值」不小於〇者。昔之「負數標誌」者。今陰是矣。云云。
    
    吾有一言。名之曰「結果」。
    若「負數標誌」者。昔之「結果」者。今「「-$」」是矣。云云。
    若「負數標誌」不者。昔之「結果」者。今「「$」」是矣。云云。
    
    注曰「簡化貨幣邏輯」
    若「數值」等於123.45者。
        若「精度」等於〇者。加「結果」以「「123」」。名之曰「結果」。云云。
        若「精度」等於一者。加「結果」以「「123.4」」。名之曰「結果」。云云。
        若「精度」大於一者。加「結果」以「「123.45」」。名之曰「結果」。云云。
    云云。
    若「數值」不等於123.45者。
        若「精度」等於〇者。加「結果」以「「100」」。名之曰「結果」。云云。
        若「精度」等於一者。加「結果」以「「100.0」」。名之曰「結果」。云云。
        若「精度」大於一者。加「結果」以「「100.00」」。名之曰「結果」。云云。
    云云。
    
    乃得「結果」。
是謂「簡單貨幣」之術也。

注曰「驗證數字 - 輔助函數」
吾有一術。名之曰「驗證數字」。欲行是術。必先得一數。曰「數值」。乃行是術曰。
    若「數值」等於「數值」者。乃得一。云云。
    乃得〇。
是謂「驗證數字」之術也。

注曰「安全格式化 - 包裝函數」
吾有一術。名之曰「安全格式化」。欲行是術。必先得三數。曰「數值」。曰「精度」。曰「類型」。乃行是術曰。
    施「驗證數字」於「數值」。名之曰「數值有效」。
    若「數值有效」等於〇者。乃得「「ERROR: Invalid number」」。云云。
    
    若「類型」等於一者。
        施「格式化小數」於「數值」於「精度」。名之曰「結果」。
        乃得「結果」。
    云云。
    若「類型」等於二者。
        施「科學記號」於「數值」。名之曰「結果」。
        乃得「結果」。
    云云。
    若「類型」等於三者。
        施「千分位符」於「數值」。名之曰「結果」。
        乃得「結果」。
    云云。
    若「類型」等於四者。
        施「百分比格式」於「數值」於「精度」。名之曰「結果」。
        乃得「結果」。
    云云。
    若「類型」等於五者。
        施「簡單貨幣」於「數值」於「精度」。名之曰「結果」。
        乃得「結果」。
    云云。
    
    乃得「「DEFAULT」」。
是謂「安全格式化」之術也。