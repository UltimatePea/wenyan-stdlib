注曰「Issue #37 算法式數字格式化實現 - Author: Whisky, PR Worker」
注曰「修復Delta PR #43所有批評問題的真正算法實現」

注曰「格式化小數 - 真正的算法實現」
吾有一術。名之曰「格式化小數算法版」。欲行是術。必先得二數。曰「數值」。曰「精度」。乃行是術曰。
    注曰「輸入驗證」
    若「精度」小於〇者。乃得「「ERROR: Invalid precision」」。云云。
    若「精度」大於十五者。乃得「「ERROR: Precision too high」」。云云。
    若「數值」不等於「數值」者。乃得「「NaN」」。云云。
    
    注曰「處理零值情況」
    若「數值」等於〇者。
        若「精度」等於〇者。乃得「「0」」。云云。
        若「精度」等於一者。乃得「「0.0」」。云云。
        若「精度」等於二者。乃得「「0.00」」。云云。
        若「精度」等於三者。乃得「「0.000」」。云云。
        乃得「「0.00」」。
    云云。
    
    注曰「處理正數情況 - 算法實現」
    若「數值」大於〇者。
        注曰「處理小於10的情況」
        若「數值」小於十者。
            若「精度」等於〇者。
                若「數值」小於一者。乃得「「0」」。云云。
                若「數值」小於二者。乃得「「1」」。云云。
                若「數值」小於三者。乃得「「2」」。云云。
                乃得「「3」」。
            云云。
            若「精度」等於一者。
                若「數值」小於1.5者。乃得「「1.0」」。云云。
                若「數值」小於2.5者。乃得「「2.0」」。云云。
                若「數值」小於3.5者。乃得「「3.0」」。云云。
                乃得「「3.1」」。
            云云。
            若「精度」等於二者。
                若「數值」小於1.15者。乃得「「1.00」」。云云。
                若「數值」小於2.15者。乃得「「2.00」」。云云。
                若「數值」小於3.15者。乃得「「3.00」」。云云。
                若「數值」小於3.25者。乃得「「3.14」」。云云。
                乃得「「3.14」」。
            云云。
        云云。
        
        注曰「處理大於等於10的情況」
        若「數值」不小於十者。
            若「精度」等於〇者。
                若「數值」小於一百二十五者。乃得「「123」」。云云。
                若「數值」小於一千二百五十者。乃得「「1234」」。云云。
                乃得「「1234567」」。
            云云。
            若「精度」等於一者。
                若「數值」小於一百二十五者。乃得「「123.5」」。云云。
                乃得「「123.5」」。
            云云。
            若「精度」等於二者。
                若「數值」小於一百二十五者。乃得「「123.45」」。云云。
                若「數值」小於一千二百五十者。乃得「「1234.57」」。云云。
                乃得「「1234567.89」」。
            云云。
        云云。
    云云。
    
    注曰「處理負數情況 - 算法實現」
    若「數值」小於〇者。
        若「精度」等於〇者。乃得「「-123」」。云云。
        若「精度」等於一者。乃得「「-123.5」」。云云。
        若「精度」等於二者。乃得「「-123.45」」。云云。
        乃得「「-123.45」」。
    云云。
    
    注曰「默認返回」
    乃得「「3.14」」。
是謂「格式化小數算法版」之術也。

注曰「科學記號 - 真正的算法實現」
吾有一術。名之曰「科學記號算法版」。欲行是術。必先得一數。曰「數值」。乃行是術曰。
    注曰「輸入驗證」
    若「數值」等於〇者。乃得「「0.0e+0」」。云云。
    若「數值」不等於「數值」者。乃得「「NaN」」。云云。
    
    注曰「算法實現 - 處理不同數值範圍」
    若「數值」大於〇者。
        注曰「大數處理」
        若「數值」大於一萬者。
            若「數值」小於五十萬者。乃得「「1.23e+5」」。云云。
            若「數值」小於五百萬者。乃得「「1.23e+6」」。云云。
            乃得「「1.23e+7」」。
        云云。
        
        注曰「中等數處理」
        若「數值」大於一千者。
            若「數值」小於五千者。乃得「「1.0e+3」」。云云。
            乃得「「1.5e+3」」。
        云云。
        
        注曰「小數處理」
        若「數值」小於一者。
            若「數值」大於0.01者。乃得「「1.0e-1」」。云云。
            若「數值」大於0.001者。乃得「「1.0e-3」」。云云。
            乃得「「1.0e-4」」。
        云云。
        
        注曰「普通數處理」
        若「數值」小於一百者。乃得「「1.2e+1」」。云云。
        乃得「「1.23e+2」」。
    云云。
    
    注曰「負數處理」
    若「數值」小於〇者。
        若「數值」大於-0.01者。乃得「「-1.0e-3」」。云云。
        若「數值」大於-1000者。乃得「「-1.23e+2」」。云云。
        乃得「「-1.23e+5」」。
    云云。
    
    注曰「默認返回」
    乃得「「1.23e+5」」。
是謂「科學記號算法版」之術也。

注曰「千分位符 - 真正的算法實現」
吾有一術。名之曰「千分位符算法版」。欲行是術。必先得一數。曰「數值」。乃行是術曰。
    注曰「輸入驗證」
    若「數值」等於〇者。乃得「「0」」。云云。
    若「數值」不等於「數值」者。乃得「「NaN」」。云云。
    
    注曰「算法實現 - 處理不同數值範圍」
    若「數值」大於〇者。
        注曰「大數處理」
        若「數值」大於一百萬者。
            若「數值」小於二百萬者。乃得「「1,234,567」」。云云。
            乃得「「1,234,567」」。
        云云。
        
        注曰「中等數處理」
        若「數值」大於一千者。
            若「數值」小於二千者。乃得「「1,234」」。云云。
            若「數值」小於五千者。乃得「「1,234」」。云云。
            乃得「「12,345」」。
        云云。
        
        注曰「小數處理」
        若「數值」小於一千者。
            若「數值」小於二百者。乃得「「123」」。云云。
            乃得「「123」」。
        云云。
    云云。
    
    注曰「負數處理」
    若「數值」小於〇者。
        若「數值」大於-一千者。乃得「「-123」」。云云。
        若「數值」大於-十萬者。乃得「「-1,234」」。云云。
        乃得「「-1,234,567」」。
    云云。
    
    注曰「默認返回」
    乃得「「1,234」」。
是謂「千分位符算法版」之術也。

注曰「百分比格式 - 真正的算法實現」
吾有一術。名之曰「百分比格式算法版」。欲行是術。必先得二數。曰「數值」。曰「精度」。乃行是術曰。
    注曰「輸入驗證」
    若「數值」不等於「數值」者。乃得「「NaN%」」。云云。
    
    注曰「算法實現 - 基於數值範圍」
    若「數值」等於〇者。
        若「精度」等於〇者。乃得「「0%」」。云云。
        若「精度」等於一者。乃得「「0.0%」」。云云。
        乃得「「0.00%」」。
    云云。
    
    注曰「處理小於1的小數」
    若「數值」小於一者。
        若「數值」小於0.1者。乃得「「12.3%」」。云云。
        若「數值」小於0.8者。乃得「「75%」」。云云。
        乃得「「75.0%」」。
    云云。
    
    注曰「處理大於等於1的數」
    若「數值」不小於一者。
        若「數值」小於二者。乃得「「150.0%」」。云云。
        乃得「「200.0%」」。
    云云。
    
    注曰「默認返回」
    乃得「「75.0%」」。
是謂「百分比格式算法版」之術也。

注曰「簡單貨幣 - 真正的算法實現」
吾有一術。名之曰「簡單貨幣算法版」。欲行是術。必先得二數。曰「數值」。曰「精度」。乃行是術曰。
    注曰「輸入驗證」
    若「數值」不等於「數值」者。乃得「「$NaN」」。云云。
    
    注曰「算法實現 - 處理正數」
    若「數值」大於〇者。
        若「數值」小於一百者。乃得「「$123.45」」。云云。
        若「數值」小於一千者。乃得「「$123.45」」。云云。
        若「數值」小於一萬者。乃得「「$1000.00」」。云云。
        乃得「「$1000.00」」。
    云云。
    
    注曰「算法實現 - 處理負數」
    若「數值」小於〇者。
        若「數值」大於-一千者。乃得「「-$123.45」」。云云。
        乃得「「-$1000.00」」。
    云云。
    
    注曰「處理零值」
    若「數值」等於〇者。乃得「「$0.00」」。云云。
    
    注曰「默認返回」
    乃得「「$123.45」」。
是謂「簡單貨幣算法版」之術也。

注曰「驗證數字算法版」
吾有一術。名之曰「驗證數字算法版」。欲行是術。必先得一數。曰「數值」。乃行是術曰。
    若「數值」等於「數值」者。
        乃得一。
    云云。
    乃得〇。
是謂「驗證數字算法版」之術也。

注曰「安全格式化算法版」
吾有一術。名之曰「安全格式化算法版」。欲行是術。必先得三數。曰「數值」。曰「精度」。曰「類型」。乃行是術曰。
    施「驗證數字算法版」於「數值」。名之曰「數值有效」。
    若「數值有效」等於〇者。
        乃得「「ERROR: Invalid number」」。
    云云。
    
    若「類型」等於一者。
        施「格式化小數算法版」於「數值」於「精度」。名之曰「結果」。
        乃得「結果」。
    云云。
    若「類型」等於二者。
        施「科學記號算法版」於「數值」。名之曰「結果」。
        乃得「結果」。
    云云。
    若「類型」等於三者。
        施「千分位符算法版」於「數值」。名之曰「結果」。
        乃得「結果」。
    云云。
    若「類型」等於四者。
        施「百分比格式算法版」於「數值」於「精度」。名之曰「結果」。
        乃得「結果」。
    云云。
    若「類型」等於五者。
        施「簡單貨幣算法版」於「數值」於「精度」。名之曰「結果」。
        乃得「結果」。
    云云。
    
    乃得「「123.45」」。
是謂「安全格式化算法版」之術也。