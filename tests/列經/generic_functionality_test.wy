注曰「列經綜合功能測試 - 驗證新增的通用函數式編程模式」
注曰「Author: Whisky, PR Worker - Tests generic map, fold, and custom comparison sorting」
注曰「Description: 驗證Delta反饋中要求的核心功能：通用映射、折疊和自定義比較排序」

注曰「引入列經庫」
引「libs/列經/列經.wy」

注曰「定義一些示例變換函數用於測試」
吾有一術。名之曰「平方函數」。欲行是術。必先得一物。曰「數值」。乃行是術曰。
    乘「數值」以「數值」。昔之「數值」者。今其是矣。
    乃得「數值」。
是謂「平方函數」之術也。

吾有一術。名之曰「加十函數」。欲行是術。必先得一物。曰「數值」。乃行是術曰。
    加「數值」以十。昔之「數值」者。今其是矣。
    乃得「數值」。
是謂「加十函數」之術也。

吾有一術。名之曰「取負函數」。欲行是術。必先得一物。曰「數值」。乃行是術曰。
    減〇以「數值」。昔之「數值」者。今其是矣。
    乃得「數值」。
是謂「取負函數」之術也。

注曰「定義一些聚合函數用於測試折疊」
吾有一術。名之曰「加法聚合」。欲行是術。必先得二物。曰「累積值」。曰「當前值」。乃行是術曰。
    加「累積值」以「當前值」。昔之「累積值」者。今其是矣。
    乃得「累積值」。
是謂「加法聚合」之術也。

吾有一術。名之曰「乘法聚合」。欲行是術。必先得二物。曰「累積值」。曰「當前值」。乃行是術曰。
    乘「累積值」以「當前值」。昔之「累積值」者。今其是矣。
    乃得「累積值」。
是謂「乘法聚合」之術也。

吾有一術。名之曰「最大值聚合」。欲行是術。必先得二物。曰「累積值」。曰「當前值」。乃行是術曰。
    若「當前值」大於「累積值」者。
        乃得「當前值」。
    云云。
    乃得「累積值」。
是謂「最大值聚合」之術也。

注曰「定義自定義比較函數用於測試排序」
吾有一術。名之曰「升序比較」。欲行是術。必先得二物。曰「甲」。曰「乙」。乃行是術曰。
    若「甲」小於「乙」者。
        乃得陽。
    云云。
    乃得陰。
是謂「升序比較」之術也。

吾有一術。名之曰「降序比較」。欲行是術。必先得二物。曰「甲」。曰「乙」。乃行是術曰。
    若「甲」大於「乙」者。
        乃得陽。
    云云。
    乃得陰。
是謂「降序比較」之術也。

吾有一術。名之曰「絕對值比較」。欲行是術。必先得二物。曰「甲」。曰「乙」。乃行是術曰。
    吾有一數。名之曰「甲絕對值」。
    吾有一數。名之曰「乙絕對值」。
    
    若「甲」小於〇者。
        減〇以「甲」。名之曰「甲絕對值」。
    不然者。
        昔之「甲絕對值」者。今「甲」是矣。
    云云。
    
    若「乙」小於〇者。
        減〇以「乙」。名之曰「乙絕對值」。
    不然者。
        昔之「乙絕對值」者。今「乙」是矣。
    云云。
    
    若「甲絕對值」小於「乙絕對值」者。
        乃得陽。
    云云。
    乃得陰。
是謂「絕對值比較」之術也。

注曰「輔助函數：顯示陣列內容」
吾有一術。名之曰「顯示陣列」。欲行是術。必先得一物。曰「陣列」。乃行是術曰。
    吾有一數。名之曰「長度」。
    施「取陣列長度」於「陣列」。名之曰「長度」。
    
    吾有一數。名之曰「索引」。
    昔之「索引」者。今一是矣。
    
    恆為是。
        若「索引」大於「長度」者。乃止。云云。
        吾有一物。名之曰「元素」。
        施「取陣列元素」於「陣列」、「索引」。名之曰「元素」。
        書之「元素」。
        加「索引」以一。昔之「索引」者。今其是矣。
    云云。
是謂「顯示陣列」之術也。

注曰「開始測試」
書之「====== 列經庫通用函數式編程功能測試 ======」。

注曰「創建測試陣列」
吾有一列。名之曰「測試陣列」。
施「陣列創建」於五、一。名之曰「測試陣列」。
昔之夫「測試陣列」之一者。今一是矣。
昔之夫「測試陣列」之二者。今二是矣。
昔之夫「測試陣列」之三者。今三是矣。
昔之夫「測試陣列」之四者。今四是矣。
昔之夫「測試陣列」之五者。今五是矣。

書之「原始測試陣列：」。
施「顯示陣列」於「測試陣列」。

注曰「測試一：通用映射函數」
書之「」。
書之「=== 測試一：通用映射函數 ===」。

書之「1. 使用平方函數映射：」。
吾有一列。名之曰「平方結果」。
施「陣列映射」於「測試陣列」、「平方函數」。名之曰「平方結果」。
施「顯示陣列」於「平方結果」。

書之「2. 使用加十函數映射：」。
吾有一列。名之曰「加十結果」。
施「陣列映射」於「測試陣列」、「加十函數」。名之曰「加十結果」。
施「顯示陣列」於「加十結果」。

書之「3. 使用取負函數映射：」。
吾有一列。名之曰「取負結果」。
施「陣列映射」於「測試陣列」、「取負函數」。名之曰「取負結果」。
施「顯示陣列」於「取負結果」。

注曰「測試二：通用折疊函數」
書之「」。
書之「=== 測試二：通用折疊函數 ===」。

書之「1. 使用加法聚合計算總和：」。
吾有一數。名之曰「總和」。
施「陣列折疊」於「測試陣列」、〇、「加法聚合」。名之曰「總和」。
書之「總和：」「總和」。

書之「2. 使用乘法聚合計算乘積：」。
吾有一數。名之曰「乘積」。
施「陣列折疊」於「測試陣列」、一、「乘法聚合」。名之曰「乘積」。
書之「乘積：」「乘積」。

書之「3. 使用最大值聚合找最大值：」。
吾有一數。名之曰「最大值」。
施「陣列折疊」於「測試陣列」、〇、「最大值聚合」。名之曰「最大值」。
書之「最大值：」「最大值」。

注曰「測試三：自定義比較排序」
書之「」。
書之「=== 測試三：自定義比較排序 ===」。

注曰「創建包含負數的測試陣列」
吾有一列。名之曰「混合陣列」。
施「陣列創建」於六、〇。名之曰「混合陣列」。
昔之夫「混合陣列」之一者。今三是矣。
昔之夫「混合陣列」之二者。今負一是矣。
昔之夫「混合陣列」之三者。今四是矣。
昔之夫「混合陣列」之四者。今負五是矣。
昔之夫「混合陣列」之五者。今二是矣。
昔之夫「混合陣列」之六者。今負二是矣。

書之「混合陣列（包含負數）：」。
施「顯示陣列」於「混合陣列」。

書之「1. 使用升序比較排序：」。
吾有一列。名之曰「升序結果」。
施「陣列排序」於「混合陣列」、「升序比較」。名之曰「升序結果」。
施「顯示陣列」於「升序結果」。

書之「2. 使用降序比較排序：」。
吾有一列。名之曰「降序結果」。
施「陣列排序」於「混合陣列」、「降序比較」。名之曰「降序結果」。
施「顯示陣列」於「降序結果」。

書之「3. 使用絕對值比較排序：」。
吾有一列。名之曰「絕對值結果」。
施「陣列排序」於「混合陣列」、「絕對值比較」。名之曰「絕對值結果」。
施「顯示陣列」於「絕對值結果」。

注曰「測試四：組合使用」
書之「」。
書之「=== 測試四：組合使用 ===」。

書之「組合示例：對陣列每個元素加10，然後計算總和」。
吾有一列。名之曰「加十後陣列」。
施「陣列映射」於「測試陣列」、「加十函數」。名之曰「加十後陣列」。
書之「加10後的陣列：」。
施「顯示陣列」於「加十後陣列」。

吾有一數。名之曰「加十後總和」。
施「陣列折疊」於「加十後陣列」、〇、「加法聚合」。名之曰「加十後總和」。
書之「加10後的總和：」「加十後總和」。

書之「」。
書之「====== 所有測試完成 ======」。
書之「通過以上測試，驗證了：」。
書之「1. 陣列映射函數支持任意變換函數（非硬編碼）」。
書之「2. 陣列折疊函數支持任意聚合函數（非硬編碼）」。
書之「3. 陣列排序函數支持自定義比較函數」。
書之「4. 所有函數可以組合使用，實現復雜的函數式編程模式」。