/* 列經 - 陣列操作庫 */
/* Author: Whisky, PR Worker */

/* 陣列創建與初始化 */

/* 創建指定大小的陣列 */
吾有一術。名之曰「創建陣列」。欲行是術。必先得二物。曰「大小」。曰「填充值」。乃行是術曰。
    吾有一列。名之曰「新陣列」。
    吾有一數。名之曰「計數器」。
    昔之「計數器」者。今一是矣。
    
    恆為是。
        若「計數器」大於「大小」者。乃止。云云。
        充「新陣列」以「填充值」。
        加「計數器」以一。昔之「計數器」者。今其是矣。
    云云。
    
    乃得「新陣列」。
是謂「創建陣列」之術也。

/* 創建空陣列 */
吾有一術。名之曰「創建空陣列」。欲行是術。乃行是術曰。
    吾有一列。名之曰「空陣列」。
    乃得「空陣列」。
是謂「創建空陣列」之術也。

/* 從多個值創建陣列 */
吾有一術。名之曰「從值創建陣列」。欲行是術。必先得一列。曰「值列表」。乃行是術曰。
    吾有一列。名之曰「新陣列」。
    吾有一數。名之曰「索引」。
    昔之「索引」者。今一是矣。
    
    恆為是。
        若「索引」大於「值列表」之長者。乃止。云云。
        充「新陣列」以夫「值列表」之「索引」。
        加「索引」以一。昔之「索引」者。今其是矣。
    云云。
    
    乃得「新陣列」。
是謂「從值創建陣列」之術也。

/* 陣列長度與大小 */

/* 取陣列長度 */
吾有一術。名之曰「取陣列長度」。欲行是術。必先得一列。曰「陣列」。乃行是術曰。
    乃得「陣列」之長。
是謂「取陣列長度」之術也。

/* 判斷陣列是否為空 */
吾有一術。名之曰「陣列為空」。欲行是術。必先得一列。曰「陣列」。乃行是術曰。
    若「陣列」之長等於〇者。
        乃得陽。
    云云。
    乃得陰。
是謂「陣列為空」之術也。

/* 元素存取與修改 */

/* 取陣列元素 */
吾有一術。名之曰「取陣列元素」。欲行是術。必先得二物。曰「陣列」。曰「索引」。乃行是術曰。
    /* 邊界檢查 */
    若「索引」小於一者。
        乃得「錯誤：索引不能小於一」。
    云云。
    若「索引」大於「陣列」之長者。
        乃得「錯誤：索引超出陣列範圍」。
    云云。
    
    乃得夫「陣列」之「索引」。
是謂「取陣列元素」之術也。

/* 設置陣列元素 */
吾有一術。名之曰「設陣列元素」。欲行是術。必先得三物。曰「陣列」。曰「索引」。曰「新值」。乃行是術曰。
    /* 邊界檢查 */
    若「索引」小於一者。
        乃得「錯誤：索引不能小於一」。
    云云。
    若「索引」大於「陣列」之長者。
        乃得「錯誤：索引超出陣列範圍」。
    云云。
    
    昔夫「陣列」之「索引」者。今「新值」是矣。
    乃得「成功」。
是謂「設陣列元素」之術也。

/* 陣列操作 */

/* 向陣列末尾添加元素 */
吾有一術。名之曰「陣列追加」。欲行是術。必先得二物。曰「陣列」。曰「新元素」。乃行是術曰。
    充「陣列」以「新元素」。
    乃得「陣列」。
是謂「陣列追加」之術也。

/* 向陣列開頭添加元素 */
吾有一術。名之曰「陣列前置」。欲行是術。必先得二物。曰「陣列」。曰「新元素」。乃行是術曰。
    吾有一列。名之曰「新陣列」。
    充「新陣列」以「新元素」。
    
    吾有一數。名之曰「索引」。
    昔之「索引」者。今一是矣。
    
    恆為是。
        若「索引」大於「陣列」之長者。乃止。云云。
        充「新陣列」以夫「陣列」之「索引」。
        加「索引」以一。昔之「索引」者。今其是矣。
    云云。
    
    乃得「新陣列」。
是謂「陣列前置」之術也。

/* 在指定位置插入元素 */
吾有一術。名之曰「陣列插入」。欲行是術。必先得三物。曰「陣列」。曰「位置」。曰「新元素」。乃行是術曰。
    /* 邊界檢查 */
    若「位置」小於一者。
        乃得「錯誤：位置不能小於一」。
    云云。
    若「位置」大於「陣列」之長加一者。
        乃得「錯誤：插入位置超出有效範圍」。
    云云。
    
    吾有一列。名之曰「新陣列」。
    吾有一數。名之曰「索引」。
    昔之「索引」者。今一是矣。
    
    /* 複製插入位置之前的元素 */
    恆為是。
        若「索引」等於「位置」者。乃止。云云。
        若「索引」大於「陣列」之長者。乃止。云云。
        充「新陣列」以夫「陣列」之「索引」。
        加「索引」以一。昔之「索引」者。今其是矣。
    云云。
    
    /* 插入新元素 */
    充「新陣列」以「新元素」。
    
    /* 複製插入位置之後的元素 */
    恆為是。
        若「索引」大於「陣列」之長者。乃止。云云。
        充「新陣列」以夫「陣列」之「索引」。
        加「索引」以一。昔之「索引」者。今其是矣。
    云云。
    
    乃得「新陣列」。
是謂「陣列插入」之術也。

/* 移除指定位置的元素 */
吾有一術。名之曰「陣列移除位置」。欲行是術。必先得二物。曰「陣列」。曰「位置」。乃行是術曰。
    /* 邊界檢查 */
    若「位置」小於一者。
        乃得「錯誤：位置不能小於一」。
    云云。
    若「位置」大於「陣列」之長者。
        乃得「錯誤：位置超出陣列範圍」。
    云云。
    
    吾有一列。名之曰「新陣列」。
    吾有一數。名之曰「索引」。
    昔之「索引」者。今一是矣。
    
    恆為是。
        若「索引」大於「陣列」之長者。乃止。云云。
        若「索引」不等於「位置」者。
            充「新陣列」以夫「陣列」之「索引」。
        云云。
        加「索引」以一。昔之「索引」者。今其是矣。
    云云。
    
    乃得「新陣列」。
是謂「陣列移除位置」之術也。

/* 移除末尾元素 */
吾有一術。名之曰「陣列彈出」。欲行是術。必先得一列。曰「陣列」。乃行是術曰。
    若「陣列」之長等於〇者。
        乃得「錯誤：無法從空陣列彈出元素」。
    云云。
    
    吾有一物。名之曰「最後元素」。
    昔之「最後元素」者。今夫「陣列」之「陣列」之長是矣。
    
    吾有一列。名之曰「新陣列」。
    吾有一數。名之曰「索引」。
    昔之「索引」者。今一是矣。
    
    恆為是。
        若「索引」等於「陣列」之長者。乃止。云云。
        充「新陣列」以夫「陣列」之「索引」。
        加「索引」以一。昔之「索引」者。今其是矣。
    云云。
    
    乃得「新陣列」。
是謂「陣列彈出」之術也。

/* 陣列拼接與切片 */

/* 拼接兩個陣列 */
吾有一術。名之曰「陣列拼接」。欲行是術。必先得二列。曰「陣列甲」。曰「陣列乙」。乃行是術曰。
    吾有一列。名之曰「結果陣列」。
    吾有一數。名之曰「索引」。
    
    /* 複製第一個陣列 */
    昔之「索引」者。今一是矣。
    恆為是。
        若「索引」大於「陣列甲」之長者。乃止。云云。
        充「結果陣列」以夫「陣列甲」之「索引」。
        加「索引」以一。昔之「索引」者。今其是矣。
    云云。
    
    /* 複製第二個陣列 */
    昔之「索引」者。今一是矣。
    恆為是。
        若「索引」大於「陣列乙」之長者。乃止。云云。
        充「結果陣列」以夫「陣列乙」之「索引」。
        加「索引」以一。昔之「索引」者。今其是矣。
    云云。
    
    乃得「結果陣列」。
是謂「陣列拼接」之術也。

/* 陣列切片 */
吾有一術。名之曰「陣列切片」。欲行是術。必先得三物。曰「陣列」。曰「開始位置」。曰「結束位置」。乃行是術曰。
    /* 邊界檢查 */
    若「開始位置」小於一者。
        乃得「錯誤：開始位置不能小於一」。
    云云。
    若「結束位置」大於「陣列」之長者。
        乃得「錯誤：結束位置超出陣列範圍」。
    云云。
    若「開始位置」大於「結束位置」者。
        乃得「錯誤：開始位置不能大於結束位置」。
    云云。
    
    吾有一列。名之曰「子陣列」。
    吾有一數。名之曰「索引」。
    昔之「索引」者。今「開始位置」是矣。
    
    恆為是。
        若「索引」大於「結束位置」者。乃止。云云。
        充「子陣列」以夫「陣列」之「索引」。
        加「索引」以一。昔之「索引」者。今其是矣。
    云云。
    
    乃得「子陣列」。
是謂「陣列切片」之術也。

/* 陣列變換 */

/* 陣列過濾 */
吾有一術。名之曰「陣列過濾」。欲行是術。必先得二物。曰「陣列」。曰「條件值」。乃行是術曰。
    吾有一列。名之曰「過濾結果」。
    吾有一數。名之曰「索引」。
    昔之「索引」者。今一是矣。
    
    恆為是。
        若「索引」大於「陣列」之長者。乃止。云云。
        吾有一物。名之曰「當前元素」。
        昔之「當前元素」者。今夫「陣列」之「索引」是矣。
        
        /* 簡單條件過濾 */
        若「當前元素」等於「條件值」者。
            充「過濾結果」以「當前元素」。
        云云。
        
        加「索引」以一。昔之「索引」者。今其是矣。
    云云。
    
    乃得「過濾結果」。
是謂「陣列過濾」之術也。

/* 陣列數字過濾 */
吾有一術。名之曰「陣列數字過濾大於」。欲行是術。必先得二物。曰「陣列」。曰「閾值」。乃行是術曰。
    吾有一列。名之曰「過濾結果」。
    吾有一數。名之曰「索引」。
    昔之「索引」者。今一是矣。
    
    恆為是。
        若「索引」大於「陣列」之長者。乃止。云云。
        吾有一數。名之曰「當前元素」。
        昔之「當前元素」者。今夫「陣列」之「索引」是矣。
        
        若「當前元素」大於「閾值」者。
            充「過濾結果」以「當前元素」。
        云云。
        
        加「索引」以一。昔之「索引」者。今其是矣。
    云云。
    
    乃得「過濾結果」。
是謂「陣列數字過濾大於」之術也。

/* 陣列求和 */
吾有一術。名之曰「陣列求和」。欲行是術。必先得一列。曰「數字陣列」。乃行是術曰。
    吾有一數。名之曰「總和」。
    昔之「總和」者。今〇是矣。
    吾有一數。名之曰「索引」。
    昔之「索引」者。今一是矣。
    
    恆為是。
        若「索引」大於「數字陣列」之長者。乃止。云云。
        加「總和」以夫「數字陣列」之「索引」。昔之「總和」者。今其是矣。
        加「索引」以一。昔之「索引」者。今其是矣。
    云云。
    
    乃得「總和」。
是謂「陣列求和」之術也。

/* 陣列數字排序 */
吾有一術。名之曰「陣列數字排序」。欲行是術。必先得一列。曰「數字陣列」。乃行是術曰。
    吾有一列。名之曰「排序陣列」。
    施「複製陣列」於「數字陣列」。名之曰「排序陣列」。
    
    吾有一數。名之曰「陣列長度」。
    昔之「陣列長度」者。今「排序陣列」之長是矣。
    
    吾有一數。名之曰「外層索引」。
    昔之「外層索引」者。今一是矣。
    
    恆為是。
        若「外層索引」等於「陣列長度」者。乃止。云云。
        
        吾有一數。名之曰「內層索引」。
        昔之「內層索引」者。今一是矣。
        
        恆為是。
            減「陣列長度」以「外層索引」。
            若「內層索引」等於其者。乃止。云云。
            
            吾有一數。名之曰「當前值」。
            昔之「當前值」者。今夫「排序陣列」之「內層索引」是矣。
            吾有一數。名之曰「下一值」。
            加「內層索引」以一。
            昔之「下一值」者。今夫「排序陣列」之其是矣。
            
            若「當前值」大於「下一值」者。
                /* 交換 */
                加「內層索引」以一。
                昔夫「排序陣列」之「內層索引」者。今「當前值」是矣。
                減「內層索引」以一。
                昔夫「排序陣列」之「內層索引」者。今「下一值」是矣。
            云云。
            
            加「內層索引」以一。昔之「內層索引」者。今其是矣。
        云云。
        
        加「外層索引」以一。昔之「外層索引」者。今其是矣。
    云云。
    
    乃得「排序陣列」。
是謂「陣列數字排序」之術也。

/* 陣列反轉 */
吾有一術。名之曰「陣列反轉」。欲行是術。必先得一列。曰「陣列」。乃行是術曰。
    吾有一列。名之曰「反轉陣列」。
    吾有一數。名之曰「索引」。
    昔之「索引」者。今「陣列」之長是矣。
    
    恆為是。
        若「索引」小於一者。乃止。云云。
        充「反轉陣列」以夫「陣列」之「索引」。
        減「索引」以一。昔之「索引」者。今其是矣。
    云云。
    
    乃得「反轉陣列」。
是謂「陣列反轉」之術也。

/* 陣列搜尋 */
吾有一術。名之曰「陣列搜尋」。欲行是術。必先得二物。曰「陣列」。曰「目標值」。乃行是術曰。
    吾有一數。名之曰「索引」。
    昔之「索引」者。今一是矣。
    
    恆為是。
        若「索引」大於「陣列」之長者。乃止。云云。
        若夫「陣列」之「索引」等於「目標值」者。
            乃得「索引」。
        云云。
        加「索引」以一。昔之「索引」者。今其是矣。
    云云。
    
    乃得負一。
是謂「陣列搜尋」之術也。

/* 陣列包含檢查 */
吾有一術。名之曰「陣列包含」。欲行是術。必先得二物。曰「陣列」。曰「目標值」。乃行是術曰。
    吾有一數。名之曰「搜尋結果」。
    施「陣列搜尋」於「陣列」、「目標值」。名之曰「搜尋結果」。
    
    若「搜尋結果」不等於負一者。
        乃得陽。
    云云。
    乃得陰。
是謂「陣列包含」之術也。

/* 陣列複製與驗證 */

/* 複製陣列 */
吾有一術。名之曰「複製陣列」。欲行是術。必先得一列。曰「原陣列」。乃行是術曰。
    吾有一列。名之曰「新陣列」。
    吾有一數。名之曰「索引」。
    昔之「索引」者。今一是矣。
    
    恆為是。
        若「索引」大於「原陣列」之長者。乃止。云云。
        充「新陣列」以夫「原陣列」之「索引」。
        加「索引」以一。昔之「索引」者。今其是矣。
    云云。
    
    乃得「新陣列」。
是謂「複製陣列」之術也。

/* 陣列相等比較 */
吾有一術。名之曰「陣列相等」。欲行是術。必先得二列。曰「陣列甲」。曰「陣列乙」。乃行是術曰。
    /* 長度檢查 */
    若「陣列甲」之長不等於「陣列乙」之長者。
        乃得陰。
    云云。
    
    吾有一數。名之曰「索引」。
    昔之「索引」者。今一是矣。
    
    恆為是。
        若「索引」大於「陣列甲」之長者。乃止。云云。
        若夫「陣列甲」之「索引」不等於夫「陣列乙」之「索引」者。
            乃得陰。
        云云。
        加「索引」以一。昔之「索引」者。今其是矣。
    云云。
    
    乃得陽。
是謂「陣列相等」之術也。

/* 示例與基本驗證 */

書之「===== 列經（陣列操作庫）基本測試 =====」。

/* 測試陣列創建 */
書之「測試陣列創建...」。
吾有一列。名之曰「測試陣列」。
施「創建陣列」於三、「元素」。名之曰「測試陣列」。
書之「創建了大小為3的陣列：」。
書之「測試陣列」。

/* 測試陣列長度 */
書之「測試陣列長度...」。
吾有一數。名之曰「陣列長度」。
施「取陣列長度」於「測試陣列」。名之曰「陣列長度」。
書之「陣列長度：」。
書之「陣列長度」。

/* 測試元素存取 */
書之「測試元素存取...」。
吾有一物。名之曰「第一元素」。
施「取陣列元素」於「測試陣列」、一。名之曰「第一元素」。
書之「第一個元素：」。
書之「第一元素」。

書之「===== 列經基本測試完成 =====」。